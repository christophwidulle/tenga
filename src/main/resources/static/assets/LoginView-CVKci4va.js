import{d as m,r,c as d,a,w as _,b as g,e as b,v as A,t as u,u as K,f as w,o as c,g as i}from"./index-0Kq7OocE.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"login-container"},I={class:"login-card card"},h={class:"form-group"},P=["disabled"],x={key:0,class:"error"},B=["disabled"],L=m({__name:"LoginView",setup(E){const p=K(),v=w(),l=r(""),s=r(!1),t=r(null);async function y(){var n,e;s.value=!0,t.value=null;try{if(i.setApiKey(l.value),await i.validateApiKey()){const f=v.query.redirect||"/";p.push(f)}else t.value="Invalid API key. Please try again.",i.clearApiKey()}catch(o){t.value=((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message)||"Failed to validate API key",i.clearApiKey()}finally{s.value=!1}}return(n,e)=>(c(),d("div",k,[a("div",I,[e[2]||(e[2]=a("h1",null,"Tenga Knowledge Base",-1)),e[3]||(e[3]=a("p",null,"Enter your API key to continue",-1)),a("form",{onSubmit:_(y,["prevent"])},[a("div",h,[e[1]||(e[1]=a("label",{for:"apiKey"},"API Key",-1)),b(a("input",{id:"apiKey","onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),type:"password",class:"input",placeholder:"Enter your API key",required:"",disabled:s.value},null,8,P),[[A,l.value]])]),t.value?(c(),d("div",x,u(t.value),1)):g("",!0),a("button",{type:"submit",class:"btn btn-primary",disabled:s.value},u(s.value?"Validating...":"Login"),9,B)],32)])]))}}),D=V(L,[["__scopeId","data-v-c7448fdd"]]);export{D as default};
